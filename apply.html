<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신청하기 | 북미 인플루언서 시딩 프로모션</title>
    <meta name="description" content="북미 인플루언서 시딩 프로모션 신청서">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        * {
            font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
        }

        body {
            background: #ffffff;
        }

        /* Loading Animation */
        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid rgba(59, 130, 246, 0.1);
            border-top-color: #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Fade In */
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Grain */
        .grain {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.02;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        }

        /* Back Button */
        .back-btn {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 9999px;
            color: #71717a;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            color: #18181b;
            border-color: rgba(0, 0, 0, 0.2);
        }

        .back-btn svg {
            transition: transform 0.3s ease;
        }

        .back-btn:hover svg {
            transform: translateX(-3px);
        }

        /* Progress bar on form */
        .form-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            z-index: 9999;
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-white min-h-screen">

    <!-- Grain Overlay -->
    <div class="grain"></div>

    <!-- Progress Bar -->
    <div class="form-progress" id="formProgress"></div>

    <!-- Back Button -->
    <a href="index.html" class="back-btn">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        돌아가기
    </a>

    <!-- Loading State -->
    <div id="loading" class="fixed inset-0 flex flex-col items-center justify-center bg-white z-50">
        <div class="loader mb-4"></div>
        <p class="text-zinc-500 text-sm">신청서를 불러오는 중...</p>
    </div>

    <!-- Tally Form Embed -->
    <div class="max-w-2xl mx-auto px-4 pt-16 pb-12">
        <iframe
            id="tallyFrame"
            data-tally-src="https://tally.so/embed/zxY1r0?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
            loading="lazy"
            width="100%"
            height="500"
            frameborder="0"
            marginheight="0"
            marginwidth="0"
            title="북미 인플루언서 시딩 프로모션 신청서"
            style="opacity: 0; transition: opacity 0.5s ease;"
        ></iframe>
    </div>

    <script>
        // Tally embed script
        var d = document,
            w = "https://tally.so/widgets/embed.js",
            v = function() {
                if ("undefined" != typeof Tally) {
                    Tally.loadEmbeds();
                } else {
                    d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach(function(e) {
                        e.src = e.dataset.tallySrc;
                    });
                }
            };

        if ("undefined" != typeof Tally) {
            v();
        } else if (d.querySelector('script[src="' + w + '"]') == null) {
            var s = d.createElement("script");
            s.src = w;
            s.onload = v;
            s.onerror = v;
            d.body.appendChild(s);
        }

        // Hide loading and show form when iframe loads
        const iframe = document.getElementById('tallyFrame');
        const loading = document.getElementById('loading');

        iframe.addEventListener('load', function() {
            setTimeout(() => {
                loading.style.opacity = '0';
                loading.style.transition = 'opacity 0.3s ease';
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 300);
                iframe.style.opacity = '1';
            }, 500);
        });

        // Simulate progress (since we can't track actual form progress)
        let progress = 0;
        const progressBar = document.getElementById('formProgress');

        // Update progress on scroll within iframe (this is a visual simulation)
        setInterval(() => {
            if (progress < 10) {
                progress += 1;
                progressBar.style.width = progress + '%';
            }
        }, 500);
    </script>
</body>
</html>
